{
  "version": 3,
  "sources": ["../../src/svelte/views/isk-tools/game-text-box.svelte", "../../src/scripts/utils/iframe-util.ts", "../../src/svelte/pages/bbcode-page.svelte", "../../src/routes/bbcode/index.ts"],
  "sourcesContent": ["<script lang=\"ts\">\r\n    import { onMount } from \"svelte\";\r\n    import { TextMode } from \"../../../scripts/isk/text-mode\";\r\n\r\n    type HTMLInputElementEventTargetType = Event & {\r\n        currentTarget: EventTarget & HTMLInputElement;\r\n    };\r\n\r\n    export function setText(bbCode: string, htmlCode: string) {\r\n        el_bbcode.innerText = bbCode;\r\n        el_rendered.innerHTML = htmlCode;\r\n    }\r\n\r\n    function checkIfNotChecked(radio: HTMLInputElement) {\r\n        if (radio.checked) return;\r\n\r\n        radio.checked = true;\r\n    }\r\n\r\n    function updateModeUI() {\r\n        if (!el_rendered) return;\r\n\r\n        el_rendered.classList.remove(\r\n            \"html-rendered-chat\",\r\n            \"html-rendered-generic\",\r\n            \"html-rendered-info-guild\",\r\n        );\r\n\r\n        switch (mode) {\r\n            case TextMode.CHAT:\r\n                el_rendered.classList.add(\"html-rendered-chat\");\r\n                checkIfNotChecked(el_radio_chat);\r\n                break;\r\n            case TextMode.GENERIC_UI:\r\n                el_rendered.classList.add(\"html-rendered-generic\");\r\n                checkIfNotChecked(el_radio_generic);\r\n                break;\r\n            case TextMode.INFO_GUILD:\r\n                el_rendered.classList.add(\"html-rendered-info-guild\");\r\n                checkIfNotChecked(el_radio_guild);\r\n                break;\r\n        }\r\n    }\r\n\r\n    function onCheckedChange(e: HTMLInputElementEventTargetType) {\r\n        // @ts-ignore\r\n        mode = e.currentTarget.value;\r\n    }\r\n\r\n    onMount(() => {\r\n        updateModeUI();\r\n    });\r\n\r\n    $: mode, updateModeUI();\r\n\r\n    export let mode: TextMode = TextMode.CHAT;\r\n    let el_bbcode_layout: HTMLDivElement;\r\n    let el_bbcode: HTMLDivElement;\r\n    let el_rendered: HTMLDivElement;\r\n    let el_radio_chat: HTMLInputElement;\r\n    let el_radio_generic: HTMLInputElement;\r\n    let el_radio_guild: HTMLInputElement;\r\n</script>\r\n\r\n<div class=\"game-text-box\">\r\n    <div bind:this={el_rendered} class=\"html-rendered\">TESTE</div>\r\n\r\n    <div class=\"radio-group\">\r\n        <input\r\n            bind:this={el_radio_chat}\r\n            type=\"radio\"\r\n            id=\"radio_chat\"\r\n            name=\"ui_mode\"\r\n            value=\"CHAT\"\r\n            on:change={onCheckedChange}\r\n        />\r\n        <label for=\"radio_chat\">Chat</label>\r\n\r\n        <input\r\n            bind:this={el_radio_generic}\r\n            type=\"radio\"\r\n            id=\"radio_generic\"\r\n            name=\"ui_mode\"\r\n            value=\"GENERIC_UI\"\r\n            on:change={onCheckedChange}\r\n        />\r\n        <label for=\"radio_generic\">Generic</label>\r\n\r\n        <input\r\n            bind:this={el_radio_guild}\r\n            type=\"radio\"\r\n            id=\"radio_guild\"\r\n            name=\"ui_mode\"\r\n            value=\"INFO_GUILD\"\r\n            on:change={onCheckedChange}\r\n        />\r\n        <label for=\"radio_guild\">Info Guild</label>\r\n    </div>\r\n\r\n    <div bind:this={el_bbcode_layout} class=\"bbcode-layout\">\r\n        <span class=\"material-symbols-rounded\"> code </span>\r\n        <div bind:this={el_bbcode} class=\"bbcode-content\"></div>\r\n    </div>\r\n</div>\r\n\r\n<style>\r\n    .game-text-box {\r\n        width: 360px;\r\n    }\r\n    .game-text-box > div ~ div {\r\n        margin-top: 12px;\r\n    }\r\n\r\n    .html-rendered {\r\n        padding: 4px 12px 4px 12px;\r\n\r\n        border-radius: 4px;\r\n\r\n        background-color: white;\r\n        color: black;\r\n\r\n        user-select: none;\r\n    }\r\n    :global(.html-rendered-chat) {\r\n        background-color: #44372f !important;\r\n        color: #d3c7b7 !important;\r\n    }\r\n    :global(.html-rendered-generic) {\r\n        background-color: #f8e7d3 !important;\r\n        color: #64442f !important;\r\n    }\r\n    :global(.html-rendered-info-guild) {\r\n        background-color: #d3c7b7 !important;\r\n        color: #725c44 !important;\r\n    }\r\n\r\n    .bbcode-layout {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n    .bbcode-content {\r\n        width: 320px;\r\n        height: auto;\r\n        min-height: 24px;\r\n        padding-left: 12px;\r\n        padding-right: 12px;\r\n        padding-top: 4px;\r\n        padding-bottom: 4px;\r\n\r\n        border-color: var(--md-sys-color-outline);\r\n        border-style: solid;\r\n        border-width: 1px;\r\n        border-radius: 12px;\r\n\r\n        background-color: var(--md-sys-color-surface);\r\n        color: var(--md-sys-color-on-surface);\r\n\r\n        user-select: all;\r\n        word-wrap: anywhere;\r\n    }\r\n\r\n    .radio-group {\r\n        margin-bottom: 12px;\r\n\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        justify-content: center;\r\n\r\n        user-select: none;\r\n    }\r\n\r\n    .radio-group input {\r\n        appearance: none;\r\n\r\n        width: 16px;\r\n        height: 16px;\r\n        margin: 0;\r\n        position: relative;\r\n\r\n        border: 2px solid var(--md-sys-color-outline);\r\n        border-radius: 50%;\r\n\r\n        transition: 0.2s all linear;\r\n    }\r\n    .radio-group input:checked {\r\n        border: 8px solid var(--md-sys-color-primary);\r\n    }\r\n    .radio-group input ~ label {\r\n        margin-left: 6px;\r\n    }\r\n    .radio-group label ~ input {\r\n        margin-left: 16px;\r\n    }\r\n</style>\r\n", "export const IframeUtil = {\r\n    querySelector: (iframeSelector: string, selectors: string) => {\r\n        const iframe: HTMLIFrameElement | null = document.querySelector(iframeSelector)\r\n        if (!iframe)\r\n            return null\r\n\r\n        const iframeDoc = iframe.contentDocument || iframe.contentWindow?.document;\r\n        if (!iframeDoc)\r\n            return null\r\n\r\n        return iframeDoc.querySelector(selectors)\r\n    }\r\n}\r\n\r\n", "<script lang=\"ts\">\r\n    import { onMount } from \"svelte\";\r\n    import CommonLayout from \"../layout/common-layout.svelte\";\r\n    import FilledButton from \"../views/material/filled-button.svelte\";\r\n    import { xref } from \"../../scripts/isk\";\r\n    import GameTextBox from \"../views/isk-tools/game-text-box.svelte\";\r\n    import { IframeUtil } from \"../../scripts/utils/iframe-util\";\r\n    import { TextMode } from \"src/scripts/isk/text-mode\";\r\n\r\n    function getEditorBbCode() {\r\n        const textarea = document.getElementById(\"editor-text-area\");\r\n        // @ts-ignore\r\n        const instance = window.sceditor.instance(textarea);\r\n\r\n        return instance.val();\r\n    }\r\n\r\n    function getEditorHTML() {\r\n        const body = IframeUtil.querySelector(\".editor-root iframe\", \"body\");\r\n        return body ? body.innerHTML : \"\";\r\n    }\r\n\r\n    function updateConvertedUI() {\r\n        const bbcode = getEditorBbCode();\r\n        const html = getEditorHTML();\r\n\r\n        el_game_text_box.setText(bbcode, html);\r\n    }\r\n\r\n    function handleConvert(event: MouseEvent) {\r\n        updateConvertedUI();\r\n    }\r\n\r\n    function load_stylesheet() {\r\n        // Adicionar o stylesheet\r\n        const css = document.createElement(\"link\");\r\n        css.setAttribute(\"rel\", \"stylesheet\");\r\n        css.setAttribute(\r\n            \"href\",\r\n            xref(\"static/sceditor-3.2.0/minified/themes/defaultdark.min.css\"),\r\n        );\r\n        document.head.appendChild(css);\r\n    }\r\n    function load_sceditor() {\r\n        // Adicionar o script principal\r\n        const script_1 = document.createElement(\"script\");\r\n        script_1.src = xref(\"static/sceditor-3.2.0/minified/sceditor.min.js\");\r\n        script_1.onload = load_monocons;\r\n        document.head.appendChild(script_1);\r\n    }\r\n    function load_monocons() {\r\n        // Adicionar o script monocons\r\n        const monocons = document.createElement(\"script\");\r\n        monocons.src = xref(\"static/sceditor-3.2.0/minified/icons/monocons.js\");\r\n        monocons.onload = load_bbcode;\r\n        document.head.appendChild(monocons);\r\n    }\r\n    function load_bbcode() {\r\n        // Adicionar o script bbcode\r\n        const bbcode = document.createElement(\"script\");\r\n        bbcode.src = xref(\"static/sceditor-3.2.0/minified/formats/bbcode.js\");\r\n        bbcode.onload = start_editor;\r\n        document.head.appendChild(bbcode);\r\n    }\r\n    function start_editor() {\r\n        const textarea = document.getElementById(\"editor-text-area\");\r\n\r\n        // @ts-ignore\r\n        window.sceditor.create(textarea, {\r\n            toolbar: \"bold,italic,underline|size,color,removeformat|source\",\r\n            format: \"bbcode\",\r\n            icons: \"monocons\",\r\n            style: xref(\r\n                \"static/sceditor-3.2.0/minified/themes/defaultdark.min.css\",\r\n            ),\r\n            parserOptions: {\r\n                fixInvalidNesting: false,\r\n            },\r\n            resizeEnabled: false,\r\n        });\r\n\r\n        updateConvertedUI();\r\n    }\r\n\r\n    onMount(() => {\r\n        load_stylesheet();\r\n        load_sceditor();\r\n    });\r\n\r\n    let el_editor: HTMLDivElement;\r\n    let el_game_text_box: GameTextBox;\r\n</script>\r\n\r\n<CommonLayout>\r\n    <div class=\"main\">\r\n        <div class=\"editor-root\" bind:this={el_editor}>\r\n            <textarea id=\"editor-text-area\" />\r\n        </div>\r\n\r\n        <FilledButton\r\n            on:click={handleConvert}\r\n            text=\"Convert\"\r\n            style=\"margin-top: 12px;\"\r\n        />\r\n\r\n        <hr\r\n            style=\"width: 360px; border: var(--md-sys-color-outline) 1px solid;\"\r\n        />\r\n\r\n        <GameTextBox bind:this={el_game_text_box} mode={TextMode.CHAT} />\r\n    </div>\r\n</CommonLayout>\r\n\r\n<style>\r\n    @import \"quill/dist/quill.snow.css\";\r\n\r\n    textarea {\r\n        width: 100%;\r\n        height: 100%;\r\n        resize: none;\r\n    }\r\n\r\n    .main {\r\n        margin-bottom: 32px;\r\n\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n\r\n    .editor-root {\r\n        width: 320px;\r\n        height: 220px;\r\n    }\r\n</style>\r\n", "import Page from '../../svelte/pages/bbcode-page.svelte'\r\n\r\nconsole.log('Iniciando...')\r\n\r\nconst app = new Page({ target: document.body })"],
  "mappings": "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",
  "names": ["insert", "target", "div4", "anchor", "append", "div0", "div1", "input0", "label0", "input1", "label1", "input2", "label2", "div3", "span", "div2", "ctx", "checkIfNotChecked", "radio", "setText", "bbCode", "htmlCode", "el_bbcode", "el_rendered", "updateModeUI", "mode", "el_radio_chat", "el_radio_generic", "el_radio_guild", "onCheckedChange", "e", "onMount", "$$props", "el_bbcode_layout", "$$value", "IframeUtil", "iframeSelector", "selectors", "iframe", "iframeDoc", "ctx", "insert", "target", "div1", "anchor", "append", "div0", "hr", "getEditorBbCode", "textarea", "getEditorHTML", "body", "IframeUtil", "updateConvertedUI", "bbcode", "html", "el_game_text_box", "handleConvert", "event", "load_stylesheet", "css", "xref", "load_sceditor", "script_1", "load_monocons", "monocons", "load_bbcode", "start_editor", "onMount", "el_editor", "$$value", "app", "bbcode_page_default"]
}
